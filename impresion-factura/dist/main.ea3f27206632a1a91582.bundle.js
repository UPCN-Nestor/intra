webpackJsonp([2],{0:function(t,e,s){t.exports=s("cDNt")},"8gf5":function(t,e){t.exports='<meta charset="utf-8">\r\n\r\n<block-ui>\r\n\r\n<div class="big3"><p-messages [(value)]="msgs"></p-messages></div>\r\n\r\n<div style="width: 1000px; margin-top:25px; margin-left:auto; margin-right:auto;" class="{{paso != 1 ? \'hide\' : \'\'}}">\r\n\r\n\t<p-dataTable emptyMessage="" rowStyleClass="rowInvisible">\r\n\t\t<p-header>\r\n\t\t\t<div class="big2">Ingrese uno de los siguientes datos</div>\r\n\t\t</p-header>\r\n\t\t<ng-template pTemplate="emptymessage">\r\n\t\t\t\r\n\t\t</ng-template>\r\n\t</p-dataTable>\r\n\t\r\n\t<div class="space"></div>\t\r\n\t\r\n\t<div class="big">\r\n\t<input class="big" #soc_sumi id="soc_sumi" size="20" placeholder="Socio" />\r\n\t</div>\r\n\r\n\t<div class="space"></div>\t\r\n\t\r\n\t<div class="big">\r\n\t<input class="big" #dni id="dni" size="20" placeholder="D.N.I." />\r\n\t</div>\r\n\t\r\n\t<div class="space"></div>\t\r\n\t\r\n\t<div class="big">\r\n\t<input class="big" #nombre id="nombre"  size="20" placeholder="Apellido y nombres" />\r\n\t</div>\r\n\t\r\n\t<div class="space"></div>\t\r\n\t\r\n\t<div class="big">\r\n\t<input class="big" #direccion id="direccion"  size="20" placeholder="Domicilio" />\r\n\t</div>\r\n\t\r\n</div>\r\n\r\n\r\n<div class="space"></div>\t\r\n<div  *ngIf="paso != 1" class="big2">\r\n<button pButton type="button" style="height: 128px; width: 128px;" icon="fa-arrow-left fa-3x" (click)="restart()"></button>\r\n</div>\r\n\r\n<div *ngIf="paso == 3" ui-g>\r\n\r\n\t<div style="margin: 25px; background-color:transparent;">\r\n\t\t<p-dataGrid [value]="facturas" >\r\n\t\t<p-header>\r\n\t\t\t<div class="big2">Seleccione factura a imprimir</div>\r\n\t\t</p-header>\r\n\t\t\t<ng-template let-fact pTemplate="item">\r\n\t\t\t<div style="padding:15px;" class="ui-md-3">\r\n\t\t\t\t<p-panel class="big2" [header]="fact.Comp_letra + \'-\' + fact.Comp_sucur + \'-\' + fact.Comp_numer + \' / $\' + fact.CompSaldo.substring(0, fact.CompSaldo.length - 2).replace(\'.\', \',\')" \r\n\t\t\t\t\t\t[style]="{\'text-align\':\'center\', \'background-color\':(fact.Pagada==\'S\'?\'\':\'#FFDDDD\')}">\r\n\t\t\t\t\t<div> <button pButton type="button" style="height: 128px; width: 128px;" icon="fa-print fa-3x" (click)="imprimir(fact.Comp_letra, fact.Comp_sucur, fact.Comp_numer, fact.Fac1Servic, fact.TipoFactura)"></button> </div>\t                \r\n\t\t\t\t\t\t<hr class="ui-widget-content" style="border-top:0">\r\n\t\t\t\t\t\t<div class="small">Emisi\xf3n: {{fact.Comp_fecha}}</div>\r\n\t\t\t\t\t\t<div class="small">Vence: {{fact.Comp_vto1}} {{(fact.Pagada==\'S\'?\'\':\' (Impaga)\')}}</div>\r\n\t\t\t\t</p-panel> \r\n\t\t\t</div>\r\n\t\t</ng-template>\r\n\t\t</p-dataGrid>\r\n\t</div>\r\n</div>\r\n\r\n<div *ngIf="paso == 25" ui-g>\r\n\t<div style="margin: 25px; background-color:transparent;">\r\n\t\t<p-dataGrid [value]="suministros" >\r\n\t\t<p-header>\r\n\t\t\t<div class="big2">Suministros de {{suministros[0].Soc_apelli}}</div>\r\n\t\t</p-header>\r\n\t\t\t<ng-template let-sumi pTemplate="item">\r\n\t\t\t<div style="padding:15px" class="ui-md-3">\r\n\t\t\t\t<p-panel class="big2" [style]="{\'text-align\':\'center\'}">\r\n\t\t\t\t\t<p-header>\r\n\t\t\t\t\t\t<span class="fa-stack">\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<span class="fa fa-circle-o fa-stack-2x"></span>\r\n\t\t\t\t\t\t\t<strong class="fa-stack-1x">{{sumi.Sumi_numer}}</strong>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span *ngIf="sumi.Servicios % 2 == 0" class="fa fa-plug"></span>\r\n\t\t\t\t\t\t<span *ngIf="sumi.Servicios % 3 == 0" class="fa fa-wifi"></span>\r\n\t\t\t\t\t\t<span *ngIf="sumi.Servicios % 5 == 0" class="fa fa-medkit"></span>\t\t\r\n\t\t\t\t\t\t<span style=""></span>\t\t\t\r\n\t\t\t\t\t\t /  ${{sumi.Impago.substring(0, sumi.Impago.length - 2).replace(\'.\', \',\')}}\r\n\t\t\t\t\t</p-header>\r\n\t\t\t\t\t<div> <button pButton type="button" style="height: 90px; width: 300px;" icon="fa-list-ul" label="  Comprobantes" (click)="seleccionarSuministro(sumi.Soc_numero, sumi.Sumi_numer)"></button> </div>\t \r\n\t\t\t\t\t<div> <button pButton type="button" style="height: 90px; width: 300px;" icon="fa-print" label="   Estado de deuda" (click)="imprimirEstadoDeuda(sumi.Soc_numero, sumi.Sumi_numer)"></button> </div>\t                \r\n\t\t\t\t\t\t<hr class="ui-widget-content" style="border-top:0">\r\n\t\t\t\t\t\t<div class="small">Domicilio: {{sumi.Sumi_calle}} {{sumi.Sumi_nroca}} {{(sumi.Sumi_piso == 0 ? "" : " Piso " + sumi.Sumi_piso)}} {{(sumi.Sumi_depto.trim() == "" ? "" : "Depto. " + sumi.Sumi_depto)}}</div>\r\n\t\t\t\t</p-panel> \r\n\t\t\t</div>\r\n\t\t</ng-template>\r\n\t\t</p-dataGrid>\r\n\t</div>\r\n</div>\r\n\r\n<div *ngIf="paso == 2" style="width: 820px; text-align:center; margin-top:50px; margin-left:auto; margin-right:auto;  background-color:transparent;">\r\n\t\t<p-dataList [value]="socios">\r\n\t\t   <p-header>\r\n\t\t\t   <div class="big2">Seleccione el titular del servicio</div>\r\n\t\t   </p-header>\r\n\t\t   <ng-template let-socio pTemplate="item">\r\n\t\t\t<div  style="padding:10px" >\r\n\t\t\t\t  <div> <input class="big" type="button" style="height: 100px; width: 782px;" \r\n\t\t\t\t\t\t value="{{socio.Soc_apelli}}"\r\n\t\t\t\t\t\t (click)="seleccionarSocio(socio.Soc_numero)"/> \r\n\t\t\t\t  </div>\t                \r\n\t\t\t</div>\r\n\t\t   </ng-template>\r\n\t\t</p-dataList>\r\n</div>\r\n\r\n\r\n\r\n\r\n</block-ui>\r\n\r\n\r\n'},bJTj:function(t,e,s){e=t.exports=s("rP7Y")(!1),e.push([t.i,".big{font-size:2em;text-align:center}.big2{font-size:1.6em}.big2,.big3{text-align:center;font-family:Verdana,sans-serif}.big3{font-size:1.2em;padding:0;margin:0}.small{font-size:.7em;font-family:Verdana,sans-serif}.space{margin:12px}.hide{display:none}",""]),t.exports=t.exports.toString()},cDNt:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("/oeL"),n=s("Qa4U"),r=s("fc+i"),o=s("bm2B"),a=s("CPp0"),c=this&&this.__decorate||function(t,e,s,i){var n,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(o=(r<3?n(o):r>3?n(e,s,o):n(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o},p=function(){function t(){this.title="app"}return t}();p=c([Object(i.Component)({selector:"app-root",template:s("efyd"),styles:[s("hxJY")]})],p);var l={production:!0,baseUrl:"http://192.168.0.3:80/",clientUrl:"http://192.168.0.3:80/"},u=s("LUBl"),d=(s("82j9"),s("/zTA")),m=this&&this.__decorate||function(t,e,s,i){var n,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(o=(r<3?n(o):r>3?n(e,s,o):n(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=s("S4Bb"),g=function(){function t(t,e){this.http=t,this.renderer=e,this.urlFoto='linear-gradient(rgba(220, 220, 220, 0.6), rgba(220, 220, 220, 0.6)), url("https://source.unsplash.com/1920x1080/?nature,'}return t.prototype.ngOnInit=function(){this.cualFoto=0,document.body.style.backgroundImage=this.urlFoto+this.cualFoto+'")',this.loading=!1,this.msgs=[],this.socios=[],this.facturas=[],this.paso=1,this.url_deuda=l.baseUrl+"php/userspice/factura_getDeuda.php",this.url_socios=l.baseUrl+"php/userspice/factura_getSocios.php",this.url_suministros=l.baseUrl+"php/userspice/factura_getSuministros.php",this.url_factura_individual=l.baseUrl+"php/userspice/factura_getFactura_jasper.php",this.url_estado_deuda=l.baseUrl+"php/userspice/factura_getEstadoDeuda_jasper.php",this.renderer.addClass(document.body,"fondo_upc"),this.setupKeyboards()},t.prototype.setupKeyboards=function(){f(".ui-keyboard-input").bind("keyboardChange",function(t,e,s){var i="Input ID of "+s.id+" has the accepted content of "+s.value;alert(i)});var t={normal:["{sp:1} 1 2 3 {sp:1} {a}","{sp:1} 4 5 6 {sp:1} {b}","{sp:1} 7 8 9 {sp:4}","{sp:2} 0 {sp:5}"]};f("#soc_sumi").keyboard({usePreview:!1,layout:"custom",customLayout:{normal:["{sp:1} 1 2 3 {sp:1} {a}","{sp:1} 4 5 6 {sp:1} {b}","{sp:1} 7 8 9 {sp:4}","{sp:2} 0 {sp:5}"]},display:{accept:"Aceptar",clear:"Borrar"}}),f("#dni").keyboard({usePreview:!1,layout:"custom",customLayout:t,display:{accept:"Aceptar",clear:"Borrar"}}),f("#nombre").keyboard({usePreview:!1,layout:"custom",customLayout:{normal:["Q W E R T Y U I O P {sp:1} 1 2 3 {sp:1} {a}","{sp:0.8} A S D F G H J K L \xd1 {sp:0.2} 4 5 6 {sp:1} {b}","{sp:1.6} Z X C V B N M {sp:4} 7 8 9 {sp:4}","{sp:1.6} {space} {sp:7.1} 0 {sp:4}"]},display:{accept:"Aceptar",clear:"Borrar"}}),f("#direccion").keyboard({usePreview:!1,layout:"custom",customLayout:{normal:["Q W E R T Y U I O P {sp:1} 1 2 3 {sp:1} {a}","{sp:0.8} A S D F G H J K L \xd1 {sp:0.2} 4 5 6 {sp:1} {b}","{sp:1.6} Z X C V B N M {sp:4} 7 8 9 {sp:4}","{sp:1.6} {space} {sp:7.1} 0 {sp:4}"]},display:{accept:"Aceptar",clear:"Borrar"}})},t.prototype.agregarBarra=function(t,e,s,i){var n="";return 5==s.value.length&&"bksp"!=e.last.key&&(n="/"),n+i},t.prototype.imprimir=function(t,e,s,i,n){var r=this;this.blockUI.start("Preparando impresi\xf3n...");var o=new a.c;o.set("letra",t),o.set("pto",e),o.set("numero",s),o.set("servicio",i),o.set("tipofactura",n),this.http.get(this.url_factura_individual,{withCredentials:!0,search:o}).toPromise().then(function(i){try{printJS(l.baseUrl+"php/userspice/facturas/fact_mensual_"+t+"-"+e+"-"+s+".pdf"),r.blockUI.stop(),r.blockUI.start("Imprimiendo factura "+t+"-"+s+". Por favor espere."),setTimeout(function(){r.blockUI.stop()},12e3)}catch(e){r.msgs.push({severity:"error",summary:"Error",detail:"No se pudo imprimir la factura "+t+"-"+s+"."}),r.blockUI.stop()}})},t.prototype.imprimirEstadoDeuda=function(t,e){var s=this;this.blockUI.start("Preparando impresi\xf3n...");var i=new a.c;i.set("socio",t),i.set("suministro",e),this.http.get(this.url_estado_deuda,{withCredentials:!0,search:i}).toPromise().then(function(i){try{var n=(new Date).toISOString().slice(0,10).replace(/-/g,"");printJS(l.baseUrl+"php/userspice/facturas/estado_deuda_"+t+"-"+e+"-"+n+".pdf"),s.blockUI.stop(),s.blockUI.start("Imprimiendo estado de deuda de socio/suministro "+t+"/"+e+". Por favor espere."),setTimeout(function(){s.blockUI.stop()},12e3)}catch(i){s.msgs.push({severity:"error",summary:"Error",detail:"No se pudo imprimir el estado de deuda del socio/suministro "+t+"/"+e+"."}),s.blockUI.stop()}})},t.prototype.seleccionarSocio=function(t){var e=this,s=new a.c;s.set("socio",t),s.set("sumi","0"),s.set("dni","0"),s.set("nombre","0"),this.http.get(this.url_suministros,{withCredentials:!0,search:s}).toPromise().then(function(t){return"error"==t.json()?null:t.json()}).then(function(t){e.suministros=t,e.paso=25,e.checkNoResults()})},t.prototype.seleccionarSuministro=function(t,e){var s=this,i=new a.c;i.set("socio",t),i.set("sumi",e),i.set("dni","0"),i.set("nombre","0"),this.http.get(this.url_deuda,{withCredentials:!0,search:i}).toPromise().then(function(t){return"error"==t.json()?null:t.json()}).then(function(t){s.facturas=t,s.paso=3,s.checkNoResults()})},t.prototype.ngAfterViewInit=function(){var t=this;f(this.ss.nativeElement).on("change",function(e){t.socSumiChange(e)}),f(this.dni.nativeElement).on("change",function(e){t.dniChange(e)}),f(this.nombre.nativeElement).on("change",function(e){t.nombreChange(e)}),f(this.direccion.nativeElement).on("change",function(e){t.direccionChange(e)})},t.prototype.nombreChange=function(t){var e=this,s=this.nombre.nativeElement.value;if(""!=s){var i=new a.c;i.set("nombre",s),i.set("calle","0"),i.set("altura","0"),this.http.get(this.url_socios,{withCredentials:!0,search:i}).toPromise().then(function(t){return"error"==t.json()?null:t.json()}).then(function(t){e.socios=t,e.paso=2,e.checkNoResults()})}},t.prototype.direccionChange=function(t){var e=this,s=this.direccion.nativeElement.value,i=s.substring(0,s.lastIndexOf(" ")),n=s.substring(s.lastIndexOf(" "));if(""!=s){i.indexOf("DIAG")>-1&&(i="DIAG.SAN MARTIN");var r=new a.c;r.set("nombre","0"),r.set("calle",i),r.set("altura",n),this.http.get(this.url_socios,{withCredentials:!0,search:r}).toPromise().then(function(t){return"error"==t.json()?null:t.json()}).then(function(t){e.socios=t,e.paso=2,e.checkNoResults()})}},t.prototype.socSumiChange=function(t){var e=this;if(""!=this.ss.nativeElement.value){var s=this.ss.nativeElement.value.split("/"),i=new a.c;i.set("socio",s[0]?s[0]:"0"),i.set("sumi",s[1]?s[1]:"0"),i.set("dni","0"),i.set("nombre","0"),this.http.get(this.url_suministros,{withCredentials:!0,search:i}).toPromise().then(function(t){return"error"==t.json()?null:t.json()}).then(function(t){e.suministros=t,e.paso=25,e.checkNoResults()})}},t.prototype.dniChange=function(t){var e=this;if(""!=this.dni.nativeElement.value){var s=new a.c;s.set("socio","0"),s.set("sumi","0"),s.set("dni",this.dni.nativeElement.value),s.set("nombre","0"),this.http.get(this.url_suministros,{withCredentials:!0,search:s}).toPromise().then(function(t){return"error"==t.json()?null:t.json()}).then(function(t){e.suministros=t,e.paso=25,e.checkNoResults()})}},t.prototype.checkNoResults=function(){this.msgs=[],2==this.paso&&0==this.socios.length&&(this.restart(),this.msgs.push({severity:"error",summary:"Advertencia",detail:"No se han encontrado socios con facturas con los datos ingresados."})),25==this.paso&&0==this.suministros.length&&(this.restart(),this.msgs.push({severity:"error",summary:"Advertencia",detail:"No se han encontrado socios con suministros activos con los datos ingresados."})),3==this.paso&&0==this.facturas.length&&(this.restart(),this.msgs.push({severity:"error",summary:"Advertencia",detail:"No se han encontrado facturas con los datos ingresados."}))},t.prototype.restart=function(){this.cualFoto++,document.body.style.backgroundImage=this.urlFoto+this.cualFoto+'")',this.socios=[],this.facturas=[],this.ss.nativeElement.value="",this.nombre.nativeElement.value="",this.dni.nativeElement.value="",this.direccion.nativeElement.value="",this.paso=1,this.msgs=[]},t}();m([Object(d.BlockUI)(),h("design:type","function"==typeof(v=void 0!==d.NgBlockUI&&d.NgBlockUI)&&v||Object)],g.prototype,"blockUI",void 0),m([Object(i.ViewChild)("soc_sumi"),h("design:type","function"==typeof(b=void 0!==i.ElementRef&&i.ElementRef)&&b||Object)],g.prototype,"ss",void 0),m([Object(i.ViewChild)("dni"),h("design:type","function"==typeof(y=void 0!==i.ElementRef&&i.ElementRef)&&y||Object)],g.prototype,"dni",void 0),m([Object(i.ViewChild)("nombre"),h("design:type","function"==typeof(_=void 0!==i.ElementRef&&i.ElementRef)&&_||Object)],g.prototype,"nombre",void 0),m([Object(i.ViewChild)("direccion"),h("design:type","function"==typeof(k=void 0!==i.ElementRef&&i.ElementRef)&&k||Object)],g.prototype,"direccion",void 0),m([Object(i.ViewChild)("op"),h("design:type","function"==typeof(w=void 0!==u.OverlayPanel&&u.OverlayPanel)&&w||Object)],g.prototype,"panel",void 0),g=m([Object(i.Injectable)(),Object(i.Component)({selector:"app-impresion-factura",template:s("8gf5"),styles:[s("bJTj")]}),h("design:paramtypes",["function"==typeof(j=void 0!==a.a&&a.a)&&j||Object,"function"==typeof(I=void 0!==i.Renderer2&&i.Renderer2)&&I||Object])],g);var v,b,y,_,k,w,j,I,x=s("fL27"),S=this&&this.__decorate||function(t,e,s,i){var n,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(o=(r<3?n(o):r>3?n(e,s,o):n(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o},C=function(){function t(){}return t}();C=S([Object(i.NgModule)({declarations:[p,g],imports:[d.BlockUIModule,u.DataListModule,u.DataGridModule,u.MultiSelectModule,u.OverlayPanelModule,u.MessagesModule,r.BrowserModule,x.a,o.FormsModule,a.b,u.DataTableModule,u.DropdownModule,u.GrowlModule,u.CheckboxModule,u.DragDropModule,u.PanelModule,u.InputTextModule,u.PasswordModule,u.SliderModule,u.ButtonModule,u.DialogModule,u.ConfirmDialogModule,u.ToolbarModule,u.TooltipModule,u.InputMaskModule],exports:[a.b],providers:[],bootstrap:[p]})],C),l.production&&Object(i.enableProdMode)(),Object(n.a)().bootstrapModule(C).catch(function(t){return console.log(t)})},efyd:function(t,e){t.exports='<meta charset="utf-8">\r\n<app-impresion-factura></app-impresion-factura>\r\n'},gFIY:function(t,e){function s(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}s.keys=function(){return[]},s.resolve=s,t.exports=s,s.id="gFIY"},hxJY:function(t,e,s){e=t.exports=s("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()}},[0]);